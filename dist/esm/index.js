import e,{useState as n,useEffect as t}from"react";import a from"@mui/material/Button";import r from"@mui/material/Box";import i from"@mui/material/Grid";var o=function(n){var t=n.msTime,a=function(e){return e<=10?"0".concat(e):"".concat(e)},r=Math.floor(t/1e3),i=Math.floor(r/60),o=Math.floor(i/60);return r%=60,i%=60,e.createElement("h1",null,"".concat(a(o),":").concat(a(i),":").concat(a(r)))},l=function(n){var t=n.name,l=n.elapsedTime,m=n.toggleBtnVerbiage,c=n.togglePause,u=n.resetSession;return e.createElement(e.Fragment,null,e.createElement(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},e.createElement(i,{container:!0,spacing:2},e.createElement(i,{item:!0,xs:12,sx:{pt:0}},e.createElement("h2",null,t)),e.createElement(i,{item:!0,xs:12},e.createElement(o,{msTime:l})),e.createElement(i,{item:!0,xs:12},e.createElement(a,{variant:"contained",onClick:c},m),e.createElement(a,{variant:"text",onClick:u},"Reset")))))},m=function(a){var r=a.duration,i=a.name,o=a.onFinish,m=a.onPause,c=a.onReset,u=n(r),s=u[0],g=u[1],f=n(!1),h=f[0],v=f[1],E=new Audio("https://raw.githubusercontent.com/vcamp314/time-management-tools/gh-pages/mixkit-scanning-sci-fi-alarm-905.wav"),d=0;t((function(){return h&&(d=window.setInterval((function(){g((function(e){return e-1e3}))}),1e3)),function(){clearInterval(d)}}),[h]),t((function(){var e;s<=0&&(console.log("finish timer"),null==o||o(),v(!1),g(0),null===(e=E.play())||void 0===e||e.then((function(){}),(function(){})))}),[s]);return e.createElement(e.Fragment,null,e.createElement(l,{name:i,elapsedTime:s,toggleBtnVerbiage:h?"Pause":"Start",togglePause:function(){null==m||m(s),v(!h)},resetSession:function(){null==c||c(s),v(!1),clearInterval(d),g(r)}}))},c=function(n){var t=n.stageName,a=n.duration,r=n.onFinish,i=n.onPause,o=n.onReset;return e.createElement(e.Fragment,null,e.createElement(m,{duration:a,name:t,onFinish:r,onPause:i,onReset:o}))},u=function(t){var a=t.stages,r=t.onStartNextStage,i=t.onFinish;t.onPause,t.onReset;var o=n(0),l=o[0],m=o[1];return e.createElement(e.Fragment,null,e.createElement(c,{stageName:a[l].name,duration:a[l].duration,onFinish:function(){if(l>=a.length-1)null==i||i();else{var e=l+1;null==r||r(a[e].id),m(e)}},key:l}))};export{o as TimeDisplay,m as Timer,u as TimerWidget};
//# sourceMappingURL=index.js.map
